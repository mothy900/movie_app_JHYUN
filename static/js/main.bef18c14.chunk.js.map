{"version":3,"sources":["Search.js","Movie.js","Rank.js","App.js","index.js"],"names":["Search","state","isLoading","movieList","movieNm","getmovie","a","finalURL","Axios","get","data","movieListResult","console","log","setState","handleChange","e","target","value","handleKeyPress","className","type","id","this","placeholder","onChange","onKeyPress","React","Component","Movie","rank","openDt","audiAcc","audiCnt","Rank","weeklyBoxOfficeList","date","totalAudi","slice","length","inputSearchDate","boxOfficeResult","i","parseInt","map","movie","key","movieCd","toFixed","App","to","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bef18c14.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Axios from \"axios\";\r\n\r\nclass Search extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    movieList: [],\r\n    movieNm: \"\",\r\n  };\r\n\r\n  getmovie = async () => {\r\n    const movieURL =\r\n      \"http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&movieNm=\";\r\n\r\n    const finalURL = movieURL + this.state.movieNm;\r\n    const {\r\n      data: {\r\n        movieListResult: { movieList },\r\n      },\r\n    } = await Axios.get(finalURL);\r\n    console.log(\"finalURL : \" + finalURL);\r\n    console.log(\"info : \" + movieList);\r\n    this.setState({ movieList, isLoading: false });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    //input text창에 데이터를 입력 받도록\r\n    this.setState({\r\n      movieNm: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleKeyPress = (e) => {\r\n    if (this.state.movieNm) {\r\n      this.getmovie();\r\n    }\r\n  };\r\n  /*componentDidMount() {\r\n    //페이지 로드시 한번 실행\r\n    this.getmovie();\r\n  }*/\r\n  render() {\r\n    return (\r\n      <section className=\"container\">\r\n        {\r\n          <div className=\"homepage\">\r\n            <div className=\"homepage__title\">\r\n              <span>Movie Search Page</span>\r\n            </div>\r\n            <div className=\"homepage__loader\">\r\n              <h3>Input Movie Title </h3>\r\n              <input\r\n                type=\"text\"\r\n                id=\"movieNm\"\r\n                value={this.state.movieNm}\r\n                className=\"loader__serchbar\"\r\n                placeholder=\"Input here Movie Title\"\r\n                onChange={this.handleChange}\r\n                onKeyPress={this.handleKeyPress}\r\n              />\r\n            </div>\r\n          </div> /* : (\r\n          <div className=\"movies\">\r\n            <span> SearCH! </span>\r\n          </div>\r\n        )*/\r\n        }\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default Search;\r\n\r\n//\thttp://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ movieNm, rank, openDt, audiAcc, audiCnt }) {\r\n  return (\r\n    <div className=\"movie\">\r\n      <div className=\"movie__data\">\r\n        <div className=\"movie__eachInfo movie__rank\">{rank}</div>\r\n        <div className=\"movie__eachInfo movie__name\">{movieNm}</div>\r\n        <div className=\"movie__eachInfo movie__date\">{openDt}</div>\r\n        <div className=\"movie__eachInfo movie__rate\">{audiCnt}</div>\r\n        <div className=\"movie__eachInfo movie__cnt\">{audiAcc}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport Movie from \"./Movie\";\r\n\r\nclass Rank extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    weeklyBoxOfficeList: [],\r\n    date: \"\",\r\n    totalAudi: \"\", //누적관객수 -> 예매율 계산 이거 Movie.js에서 불러내서 계산\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    //input text창에 데이터를 입력 받도록\r\n    this.setState({\r\n      date: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleKeyPress = (e) => {\r\n    // 엔터 누르면 값 입력 받도록하는 함수\r\n    this.state.date.slice(0, 7);\r\n    if (this.state.date.length === 8) {\r\n      this.inputSearchDate();\r\n      if (this.state.date) {\r\n        this.getmovie();\r\n      }\r\n    }\r\n  };\r\n\r\n  inputSearchDate = (e) => {\r\n    this.state.date.slice(0, 7); // 년도 숫자가 초과될 경우 8글자로 자른다.\r\n\r\n    if (this.state.date) {\r\n      this.getmovie();\r\n    }\r\n  };\r\n\r\n  getmovie = async () => {\r\n    const movieURL =\r\n      \"https://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchWeeklyBoxOfficeList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=\";\r\n\r\n    const finalURL = movieURL + this.state.date;\r\n    const {\r\n      data: {\r\n        boxOfficeResult: { weeklyBoxOfficeList },\r\n      },\r\n    } = await Axios.get(finalURL);\r\n    let totalAudi = 0;\r\n    for (let i = 0; i < weeklyBoxOfficeList.length; i++) {\r\n      totalAudi = totalAudi + parseInt(weeklyBoxOfficeList[i].audiCnt);\r\n    }\r\n\r\n    this.setState({ weeklyBoxOfficeList, isLoading: false, totalAudi });\r\n    /*const requestURL =\r\n          //http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=20120101\"\r\n          const movieInfo = await fetch(requestURL);\r\n          */\r\n  };\r\n  render() {\r\n    const { isLoading, weeklyBoxOfficeList, totalAudi } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        {isLoading ? (\r\n          <div className=\"homepage\">\r\n            <div className=\"homepage__title\">\r\n              <span>Display Weekly Boxoffice Ranking</span>\r\n            </div>\r\n            <div className=\"homepage__loader\">\r\n              <h3>Input SearchDate </h3>\r\n              <input\r\n                className=\"loader__serchbar\"\r\n                placeholder=\"Serch Date YYYYMMDD\"\r\n                value={this.state.date}\r\n                onChange={this.handleChange}\r\n                onKeyPress={this.handleKeyPress}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"movies\">\r\n            <div className=\"movie__title\">\r\n              <div className=\"movie__title_font movie__rank\">Rnaking</div>\r\n              <div className=\"movie__title_font movie__name\">영화 제목</div>\r\n              <div className=\"movie__title_font movie__date\">개봉 날짜</div>\r\n              <div className=\"movie__title_font movie__rate\">예매율</div>\r\n              <div className=\"movie__title_font movie__cnt\">누적 관객 수</div>\r\n            </div>\r\n            {weeklyBoxOfficeList.map((movie) => (\r\n              <Movie\r\n                key={movie.movieCd}\r\n                id={movie.movieCd}\r\n                rank={movie.rank}\r\n                movieNm={movie.movieNm}\r\n                openDt={movie.openDt}\r\n                audiCnt={((movie.audiCnt / totalAudi) * 100).toFixed(1)}\r\n                audiAcc={movie.audiAcc}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default Rank;\r\n","import React from \"react\";\nimport Search from \"./Search\";\nimport Rank from \"./Rank\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./Reset.css\";\nimport \"./Search.css\";\n//import axios from \"axios\";\n\nclass App extends React.Component {\n  /*componentDidMount() {\n    //페이지 로드시 한번 실행\n    this.inputSearchDate();\n  }*/\n\n  render() {\n    return (\n      <Router>\n        <div className=\"Menu-wrapper\">\n          <ul>\n            <Link to=\"/movie_app_kofic/rank\">\n              <li>Rank</li>\n            </Link>\n            <Link to=\"/movie_app_kofic/search\">\n              <li>Search</li>\n            </Link>\n          </ul>\n        </div>\n        <div className=\"Contents-wrapper\">\n          <Switch>\n            <Route path=\"/movie_app_kofic/rank\" component={Rank} />\n            <Route path=\"/movie_app_kofic/search\" component={Search} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}