{"version":3,"sources":["Movie.js","App.js","index.js"],"names":["Movie","movieNm","rank","openDt","audiAcc","audiCnt","className","App","state","isLoading","weeklyBoxOfficeList","date","totalAudi","handleChange","e","setState","target","value","handleKeyPress","slice","length","inputSearchDate","getmovie","a","finalURL","Axios","get","data","boxOfficeResult","i","parseInt","console","log","this","placeholder","onChange","onKeyPress","map","movie","key","movieCd","id","toFixed","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sUAoCeA,MAhCf,YAA6D,IAA5CC,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAC/C,OACE,yBAAKC,UAAU,SACb,yBAAKA,UAAU,eACb,wCACA,4CACA,8BACA,8BACA,8BACA,yBAAKA,UAAU,+BACb,yCAAeJ,IAEjB,yBAAKI,UAAU,+BACb,4BAAKL,IAEP,yBAAKK,UAAU,+BACb,2DAAaH,IAEf,yBAAKG,UAAU,+BACb,oDAAWD,IAEb,yBAAKC,UAAU,8BACb,kEAAeF,OC8EVG,G,kNAjGbC,MAAQ,CACNC,WAAW,EACXC,oBAAqB,GACrBC,KAAM,GACNC,UAAW,I,EAGbC,aAAe,SAACC,GAEd,EAAKC,SAAS,CACZJ,KAAMG,EAAEE,OAAOC,S,EAInBC,eAAiB,SAACJ,GAEhB,EAAKN,MAAMG,KAAKQ,MAAM,EAAG,GACM,IAA3B,EAAKX,MAAMG,KAAKS,SAClB,EAAKC,kBACD,EAAKb,MAAMG,MACb,EAAKW,a,EAKXD,gBAAkB,SAACP,GACjB,EAAKN,MAAMG,KAAKQ,MAAM,EAAG,GAErB,EAAKX,MAAMG,MACb,EAAKW,Y,EAITA,S,sBAAW,oCAAAC,EAAA,4DAEP,+IAEIC,EAFJ,+IAE0B,EAAKhB,MAAMG,KAJ9B,SASCc,IAAMC,IAAIF,GATX,OAWT,IAXS,SAOcd,EAPd,EAMPiB,KACEC,gBAAmBlB,oBAGnBE,EAAY,EACPiB,EAAI,EAAGA,EAAInB,EAAoBU,OAAQS,IAC9CjB,GAAwBkB,SAASpB,EAAoBmB,GAAGxB,SACxD0B,QAAQC,IAAI,WAAatB,EAAoB,GAAGL,SAGlD,EAAKU,SAAS,CAAEL,sBAAqBD,WAAW,EAAOG,cAhB9C,2C,uDA4BD,IAAD,EAC+CqB,KAAKzB,MAAnDC,EADD,EACCA,UAAWC,EADZ,EACYA,oBAAqBE,EADjC,EACiCA,UACxC,OACE,6BAASN,UAAU,aACjB,gEACCG,EACC,yBAAKH,UAAU,UACb,iDACA,2BACEA,UAAU,mBACV4B,YAAY,sBACZjB,MAAOgB,KAAKzB,MAAMG,KAClBwB,SAAUF,KAAKpB,aACfuB,WAAYH,KAAKf,kBAIrB,yBAAKZ,UAAU,UACZI,EAAoB2B,KAAI,SAACC,GAAD,OACvB,kBAAC,EAAD,CACEC,IAAKD,EAAME,QACXC,GAAIH,EAAME,QACVtC,KAAMoC,EAAMpC,KACZD,QAASqC,EAAMrC,QACfE,OAAQmC,EAAMnC,OACdC,QAASkC,EAAMlC,QACfC,SAAWiC,EAAMjC,QAAUO,EAAa,KAAK8B,QAAQ,c,GAxFnDC,IAAMC,YCFxBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.02592728.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ movieNm, rank, openDt, audiAcc, audiCnt }) {\r\n  return (\r\n    <div className=\"movie\">\r\n      <div className=\"movie__data\">\r\n        <div>Rnaking</div>\r\n        <div>Movie Title</div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div className=\"movie__eachInfo movie__rank\">\r\n          <h3>Ranking : {rank}</h3>\r\n        </div>\r\n        <div className=\"movie__eachInfo movie__name\">\r\n          <h3>{movieNm}</h3>\r\n        </div>\r\n        <div className=\"movie__eachInfo movie__date\">\r\n          <h3>개봉 날짜 : {openDt}</h3>\r\n        </div>\r\n        <div className=\"movie__eachInfo movie__rate\">\r\n          <h3>예매율 : {audiCnt}</h3>\r\n        </div>\r\n        <div className=\"movie__eachInfo movie__cnt\">\r\n          <h3>누적 관객 수 : {audiAcc}</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\nexport default Movie;\r\n","import React from \"react\";\nimport Axios from \"axios\";\nimport Movie from \"./Movie\";\nimport \"./App.css\";\n//import axios from \"axios\";\n\nclass App extends React.Component {\n  state = {\n    isLoading: true,\n    weeklyBoxOfficeList: [],\n    date: \"\",\n    totalAudi: \"\", //누적관객수 -> 예매율 계산 이거 Movie.js에서 불러내서 계산\n  };\n\n  handleChange = (e) => {\n    //input text창에 데이터를 입력 받도록\n    this.setState({\n      date: e.target.value,\n    });\n  };\n\n  handleKeyPress = (e) => {\n    // 엔터 누르면 값 입력 받도록하는 함수\n    this.state.date.slice(0, 7);\n    if (this.state.date.length === 8) {\n      this.inputSearchDate();\n      if (this.state.date) {\n        this.getmovie();\n      }\n    }\n  };\n\n  inputSearchDate = (e) => {\n    this.state.date.slice(0, 7); // 년도 숫자가 초과될 경우 8글자로 자른다.\n\n    if (this.state.date) {\n      this.getmovie();\n    }\n  };\n\n  getmovie = async () => {\n    const movieURL =\n      \"https://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchWeeklyBoxOfficeList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=\";\n\n    const finalURL = movieURL + this.state.date;\n    const {\n      data: {\n        boxOfficeResult: { weeklyBoxOfficeList },\n      },\n    } = await Axios.get(finalURL);\n    let totalAudi = 0;\n    for (let i = 0; i < weeklyBoxOfficeList.length; i++) {\n      totalAudi = totalAudi + parseInt(weeklyBoxOfficeList[i].audiCnt);\n      console.log(\"first : \" + weeklyBoxOfficeList[0].audiCnt);\n    }\n\n    this.setState({ weeklyBoxOfficeList, isLoading: false, totalAudi });\n    /*const requestURL =\n      //http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=20120101\"\n      const movieInfo = await fetch(requestURL);\n      */\n  };\n\n  /*componentDidMount() {\n    //페이지 로드시 한번 실행\n    this.inputSearchDate();\n  }*/\n\n  render() {\n    const { isLoading, weeklyBoxOfficeList, totalAudi } = this.state;\n    return (\n      <section className=\"container\">\n        <h1>Display Weekly Boxoffice Ranking</h1>\n        {isLoading ? (\n          <div className=\"loader\">\n            <h3>Input SearchDate </h3>\n            <input\n              className=\"loader__serchbar\"\n              placeholder=\"Serch Date YYYYMMDD\"\n              value={this.state.date}\n              onChange={this.handleChange}\n              onKeyPress={this.handleKeyPress}\n            />\n          </div>\n        ) : (\n          <div className=\"movies\">\n            {weeklyBoxOfficeList.map((movie) => (\n              <Movie\n                key={movie.movieCd}\n                id={movie.movieCd}\n                rank={movie.rank}\n                movieNm={movie.movieNm}\n                openDt={movie.openDt}\n                audiAcc={movie.audiAcc}\n                audiCnt={((movie.audiCnt / totalAudi) * 100).toFixed(1)}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}