{"version":3,"sources":["Search.js","Movie.js","Rank.js","App.js","index.js"],"names":["Search","React","Component","Movie","movieNm","rank","openDt","audiAcc","audiCnt","className","Rank","state","isLoading","weeklyBoxOfficeList","date","totalAudi","handleChange","e","setState","target","value","handleKeyPress","slice","length","inputSearchDate","getmovie","a","finalURL","Axios","get","data","boxOfficeResult","i","parseInt","this","placeholder","onChange","onKeyPress","map","movie","key","movieCd","id","toFixed","App","to","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+TAOeA,E,uKAHX,OAAO,2C,GAFUC,IAAMC,W,gDCmBZC,MAjBf,YAA6D,IAA5CC,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAC/C,OACE,yBAAKC,UAAU,SACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,+BAA+BJ,GAC9C,yBAAKI,UAAU,+BAA+BL,GAC9C,yBAAKK,UAAU,+BAA+BH,GAC9C,yBAAKG,UAAU,+BAA+BD,GAC9C,yBAAKC,UAAU,8BAA8BF,MC6FtCG,E,4MApGbC,MAAQ,CACNC,WAAW,EACXC,oBAAqB,GACrBC,KAAM,GACNC,UAAW,I,EAGbC,aAAe,SAACC,GAEd,EAAKC,SAAS,CACZJ,KAAMG,EAAEE,OAAOC,S,EAInBC,eAAiB,SAACJ,GAEhB,EAAKN,MAAMG,KAAKQ,MAAM,EAAG,GACM,IAA3B,EAAKX,MAAMG,KAAKS,SAClB,EAAKC,kBACD,EAAKb,MAAMG,MACb,EAAKW,a,EAKXD,gBAAkB,SAACP,GACjB,EAAKN,MAAMG,KAAKQ,MAAM,EAAG,GAErB,EAAKX,MAAMG,MACb,EAAKW,Y,EAITA,S,sBAAW,oCAAAC,EAAA,4DAEP,+IAEIC,EAFJ,+IAE0B,EAAKhB,MAAMG,KAJ9B,SASCc,IAAMC,IAAIF,GATX,OAWT,IAXS,SAOcd,EAPd,EAMPiB,KACEC,gBAAmBlB,oBAGnBE,EAAY,EACPiB,EAAI,EAAGA,EAAInB,EAAoBU,OAAQS,IAC9CjB,GAAwBkB,SAASpB,EAAoBmB,GAAGxB,SAG1D,EAAKU,SAAS,CAAEL,sBAAqBD,WAAW,EAAOG,cAf9C,2C,uDAqBD,IAAD,EAC+CmB,KAAKvB,MAAnDC,EADD,EACCA,UAAWC,EADZ,EACYA,oBAAqBE,EADjC,EACiCA,UACxC,OACE,6BAASN,UAAU,aAChBG,EACC,yBAAKH,UAAU,YACb,yBAAKA,UAAU,mBACb,mEAEF,yBAAKA,UAAU,oBACb,iDACA,2BACEA,UAAU,mBACV0B,YAAY,sBACZf,MAAOc,KAAKvB,MAAMG,KAClBsB,SAAUF,KAAKlB,aACfqB,WAAYH,KAAKb,mBAKvB,yBAAKZ,UAAU,UACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,iCAAf,WACA,yBAAKA,UAAU,iCAAf,6BACA,yBAAKA,UAAU,iCAAf,6BACA,yBAAKA,UAAU,iCAAf,sBACA,yBAAKA,UAAU,gCAAf,qCAEDI,EAAoByB,KAAI,SAACC,GAAD,OACvB,kBAAC,EAAD,CACEC,IAAKD,EAAME,QACXC,GAAIH,EAAME,QACVpC,KAAMkC,EAAMlC,KACZD,QAASmC,EAAMnC,QACfE,OAAQiC,EAAMjC,OACdE,SAAW+B,EAAM/B,QAAUO,EAAa,KAAK4B,QAAQ,GACrDpC,QAASgC,EAAMhC,mB,GA5FZN,IAAMC,W,eCmCV0C,G,yLAvBX,OACE,kBAAC,IAAD,KACE,yBAAKnC,UAAU,gBACb,4BACE,kBAAC,IAAD,CAAMoC,GAAG,yBACP,qCAEF,kBAAC,IAAD,CAAMA,GAAG,2BACP,yCAIN,yBAAKpC,UAAU,oBACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqC,KAAK,wBAAwBC,UAAWrC,IAC/C,kBAAC,IAAD,CAAOoC,KAAK,0BAA0BC,UAAW/C,W,GAtB3CC,IAAMC,YCLxB8C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.1adb5c49.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Search extends React.Component {\r\n  render() {\r\n    return <div>Serach</div>;\r\n  }\r\n}\r\nexport default Search;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ movieNm, rank, openDt, audiAcc, audiCnt }) {\r\n  return (\r\n    <div className=\"movie\">\r\n      <div className=\"movie__data\">\r\n        <div className=\"movie__eachInfo movie__rank\">{rank}</div>\r\n        <div className=\"movie__eachInfo movie__name\">{movieNm}</div>\r\n        <div className=\"movie__eachInfo movie__date\">{openDt}</div>\r\n        <div className=\"movie__eachInfo movie__rate\">{audiCnt}</div>\r\n        <div className=\"movie__eachInfo movie__cnt\">{audiAcc}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport Movie from \"./Movie\";\r\n\r\nclass Rank extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    weeklyBoxOfficeList: [],\r\n    date: \"\",\r\n    totalAudi: \"\", //누적관객수 -> 예매율 계산 이거 Movie.js에서 불러내서 계산\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    //input text창에 데이터를 입력 받도록\r\n    this.setState({\r\n      date: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleKeyPress = (e) => {\r\n    // 엔터 누르면 값 입력 받도록하는 함수\r\n    this.state.date.slice(0, 7);\r\n    if (this.state.date.length === 8) {\r\n      this.inputSearchDate();\r\n      if (this.state.date) {\r\n        this.getmovie();\r\n      }\r\n    }\r\n  };\r\n\r\n  inputSearchDate = (e) => {\r\n    this.state.date.slice(0, 7); // 년도 숫자가 초과될 경우 8글자로 자른다.\r\n\r\n    if (this.state.date) {\r\n      this.getmovie();\r\n    }\r\n  };\r\n\r\n  getmovie = async () => {\r\n    const movieURL =\r\n      \"https://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchWeeklyBoxOfficeList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=\";\r\n\r\n    const finalURL = movieURL + this.state.date;\r\n    const {\r\n      data: {\r\n        boxOfficeResult: { weeklyBoxOfficeList },\r\n      },\r\n    } = await Axios.get(finalURL);\r\n    let totalAudi = 0;\r\n    for (let i = 0; i < weeklyBoxOfficeList.length; i++) {\r\n      totalAudi = totalAudi + parseInt(weeklyBoxOfficeList[i].audiCnt);\r\n    }\r\n\r\n    this.setState({ weeklyBoxOfficeList, isLoading: false, totalAudi });\r\n    /*const requestURL =\r\n          //http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json?key=26f8c1b0fd8afe36ceb0eff48b468b5b&targetDt=20120101\"\r\n          const movieInfo = await fetch(requestURL);\r\n          */\r\n  };\r\n  render() {\r\n    const { isLoading, weeklyBoxOfficeList, totalAudi } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        {isLoading ? (\r\n          <div className=\"homepage\">\r\n            <div className=\"homepage__title\">\r\n              <span>Display Weekly Boxoffice Ranking</span>\r\n            </div>\r\n            <div className=\"homepage__loader\">\r\n              <h3>Input SearchDate </h3>\r\n              <input\r\n                className=\"loader__serchbar\"\r\n                placeholder=\"Serch Date YYYYMMDD\"\r\n                value={this.state.date}\r\n                onChange={this.handleChange}\r\n                onKeyPress={this.handleKeyPress}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"movies\">\r\n            <div className=\"movie__title\">\r\n              <div className=\"movie__title_font movie__rank\">Rnaking</div>\r\n              <div className=\"movie__title_font movie__name\">영화 제목</div>\r\n              <div className=\"movie__title_font movie__date\">개봉 날짜</div>\r\n              <div className=\"movie__title_font movie__rate\">예매율</div>\r\n              <div className=\"movie__title_font movie__cnt\">누적 관객 수</div>\r\n            </div>\r\n            {weeklyBoxOfficeList.map((movie) => (\r\n              <Movie\r\n                key={movie.movieCd}\r\n                id={movie.movieCd}\r\n                rank={movie.rank}\r\n                movieNm={movie.movieNm}\r\n                openDt={movie.openDt}\r\n                audiCnt={((movie.audiCnt / totalAudi) * 100).toFixed(1)}\r\n                audiAcc={movie.audiAcc}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default Rank;\r\n","import React from \"react\";\nimport Search from \"./Search\";\nimport Rank from \"./Rank\";\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./Reset.css\";\nimport \"./Search.css\";\n//import axios from \"axios\";\n\nclass App extends React.Component {\n  /*componentDidMount() {\n    //페이지 로드시 한번 실행\n    this.inputSearchDate();\n  }*/\n\n  render() {\n    return (\n      <Router>\n        <div className=\"Menu-wrapper\">\n          <ul>\n            <Link to=\"/movie_app_kofic/rank\">\n              <li>Rank</li>\n            </Link>\n            <Link to=\"/movie_app_kofic/search\">\n              <li>Search</li>\n            </Link>\n          </ul>\n        </div>\n        <div className=\"Contents-wrapper\">\n          <Switch>\n            <Route path=\"/movie_app_kofic/rank\" component={Rank} />\n            <Route path=\"/movie_app_kofic/search\" component={Search} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}